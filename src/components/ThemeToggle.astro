---
---

<button
  id="theme-toggle"
  class="w-9 h-9 rounded-full flex items-center justify-center border border-[var(--border)] bg-[var(--surface)] hover:border-[var(--accent)] transition-all duration-300 cursor-pointer"
  aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É"
>
  <span id="theme-icon-sun" class="hidden text-sm">‚òÄÔ∏è</span>
  <span id="theme-icon-moon" class="text-sm">üåô</span>
</button>

<script>
  function initTheme() {
    const toggle = document.getElementById('theme-toggle');
    const iconSun = document.getElementById('theme-icon-sun');
    const iconMoon = document.getElementById('theme-icon-moon');
    const saved = localStorage.getItem('theme');

    if (saved === 'light') {
      document.documentElement.setAttribute('data-theme', 'light');
      iconSun.classList.remove('hidden');
      iconMoon.classList.add('hidden');
    }

    toggle.addEventListener('click', () => {
      const isLight = document.documentElement.getAttribute('data-theme') === 'light';
      if (isLight) {
        document.documentElement.removeAttribute('data-theme');
        localStorage.setItem('theme', 'dark');
        iconSun.classList.add('hidden');
        iconMoon.classList.remove('hidden');
      } else {
        document.documentElement.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', 'light');
        iconSun.classList.remove('hidden');
        iconMoon.classList.add('hidden');
      }
    });
  }

  initTheme();
  document.addEventListener('astro:after-swap', initTheme);
</script>
